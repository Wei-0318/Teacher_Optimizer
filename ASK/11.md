✅ **對！就是在結束節點設定輸出變數！**

你看到的這個變數列表就是可以選擇的輸出內容。

## 🎯 **推薦配置方案**

### **方案 A：輸出完整的格式化內容（最簡單，推薦）**

在結束節點中，選擇：

```yaml
✅ 代碼執行 → formatted_output
```

**只勾選這一個就好！**

這會輸出像這樣的完整格式化內容：
```
📊 **問題分析**
- 核心概念：...
- 複雜度：...
🎯 **優化後的問題**
...
```

---

### **方案 B：輸出多個欄位（如果需要結構化數據）**

如果你想要多個獨立的輸出欄位，可以選擇：

```yaml
✅ 代碼執行 → status
✅ 代碼執行 → main_question  
✅ 代碼執行 → formatted_output
✅ 代碼執行 → extended_questions_list
```

---

### **方案 C：只輸出主要問題（最精簡）**

```yaml
✅ 代碼執行 → main_question
```

只會顯示優化後的問題文字。

---

## 📝 **具體操作步驟**

### **Step 1: 在結束節點配置面板**
看起來你已經在這個介面了，應該有：
- 一個「添加輸出變數」或「選擇變數」的按鈕/區域
- 或者一個可以勾選的變數列表

### **Step 2: 添加輸出**
1. 點擊「+ 添加輸出變數」（或類似按鈕）
2. 從列表中找到「代碼執行」展開
3. 選擇 `formatted_output`
4. 保存

### **Step 3: 配置顯示名稱（可選）**
可能會讓你設定輸出的顯示名稱：
```yaml
變數: 代碼執行.formatted_output
顯示名稱: "問題分析結果"
```

---

## 🎨 **不同方案的輸出效果**

### **方案 A 的輸出效果：**
```
[問題分析結果]
📊 **問題分析**
- 核心概念：機器學習基礎
- 複雜度：中級
- 學習意圖：理解AI技術

🎯 **優化後的問題**
主要問題：機器學習的核心原理、主要類型及實際應用是什麼？
...
（完整的格式化內容）
```

### **方案 B 的輸出效果：**
```
[狀態]
success

[優化後問題]  
機器學習的核心原理、主要類型及實際應用是什麼？

[完整分析]
📊 **問題分析**
...

[延伸問題列表]
1. 監督學習、非監督學習和強化學習的本質區別是什麼？
2. 機器學習在不同產業中的典型應用案例有哪些？
...
```

---

## ⚠️ **不需要選擇的變數**

這些變數通常**不用**在結束節點輸出：

```yaml
❌ 師Q01 → text (這是老師的原始 JSON 輸出，已經被代碼處理過了)
❌ 代碼執行 → raw_output (除非調試用)
❌ 代碼執行 → error_message (除非調試用)
❌ 代碼執行 → parsed_data (這是 JSON 物件，不適合直接顯示)
❌ 開始 → user_question (用戶自己知道問了什麼)
❌ 所有 sys.* 開頭的 (系統變數)
```

---

## 🎯 **我的建議**

**現在就選這一個：**

```yaml
✅ 代碼執行.formatted_output
```

**設定方式：**
1. 在結束節點找到輸出配置區
2. 添加輸出變數
3. 選擇路徑：`代碼執行` → `formatted_output`
4. （可選）給它命名為「問題分析結果」
5. 保存

---

## 🧪 **設定完成後測試**

1. **點擊「運行」或「調試」**
2. **輸入測試問題**：
   ```
   什麼是機器學習？
   ```
3. **查看輸出**

**如果成功，你會看到完整的格式化分析**  
**如果有問題，告訴我錯誤訊息**

---

## 💡 **進階：如果想自定義輸出格式**

如果結束節點支援自定義文本，可以這樣組合：

```
=== 問題優化結果 ===

原始問題：{{開始.user_question}}

{{代碼執行.formatted_output}}

---
狀態：{{代碼執行.status}}
```

---

你現在試試選擇 `formatted_output` 然後運行看看！如果有任何問題或輸出不如預期，告訴我具體情況。😊
